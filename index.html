<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Maghrib - Portails Affaires</title>
    <!-- Intégration de polices modernes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="brand">
            <div class="brand-logo">Q</div>
            <span class="brand-name">Quantum Maghrib</span>
        </div>

        <div class="nav-section">
            <p class="nav-label">Menu Principal</p>
            <nav class="nav-menu">
                <a href="#" class="nav-link active" data-view="dashboard">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                    Tableau de bord
                </a>
                <a href="#" class="nav-link" data-view="products">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
                    Produits
                </a>
                <a href="#" class="nav-link" data-view="suppliers">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    Fournisseurs
                </a>
                <a href="#" class="nav-link" data-view="warehouses">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                    Entrepôts
                </a>
                <a href="#" class="nav-link" data-view="purchase-orders">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                    Commandes d'achat
                </a>
                <a href="#" class="nav-link" data-view="categories">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    Catégories
                </a>
            </nav>
        </div>

        <div class="nav-section">
            <p class="nav-label">Système</p>
            <nav class="nav-menu">
                <a href="#" class="nav-link" data-view="settings">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    Paramètres
                </a>
            </nav>
        </div>

        <div style="margin-top: auto; padding: 1rem; background: var(--bg-canvas); border-radius: var(--radius-md);">
            <p style="font-size: 0.7rem; font-weight: 700; color: var(--primary);">SUPPORT PREMIUM</p>
            <p style="font-size: 0.65rem; color: var(--text-muted); margin: 4px 0 10px 0;">Accès direct à votre conseiller dédié.</p>
            <button class="btn-contact" onclick="openContactModal()" style="width: 100%; padding: 8px; border: 1px solid var(--primary); background: transparent; color: var(--primary); border-radius: 6px; font-size: 0.75rem; font-weight: 700; cursor: pointer;">Contacter</button>
        </div>
    </aside>

    <!-- MAIN AREA -->
    <main class="main">
        <header class="top-bar">
            <div class="search-container" style="position: relative;">
                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <input type="text" id="global-search" class="search-input" placeholder="Rechercher une transaction ou un produit..." onkeyup="performSearch(this.value)" onfocus="showSearchInfo()" onblur="hideSearchInfo()">
                <div class="search-results-info" id="search-info">Recherche dans tous les éléments (produits, fournisseurs, commandes...)</div>
            </div>

            <div class="top-actions">
                <button class="notification-btn" onclick="toggleNotifications()" id="notification-btn">
                    <svg width="22" height="22" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
                    <span class="badge-dot" id="notification-badge"></span>
                </button>
                
                <div class="user-menu" id="user-menu">
                    <div style="text-align: right">
                        <p style="font-size: 0.85rem; font-weight: 700;" id="user-name">Yassine Alami</p>
                        <p style="font-size: 0.7rem; color: var(--text-muted);" id="user-role">Directeur Opérations</p>
                    </div>
                    <div style="position: relative;">
                        <img src="https://ui-avatars.com/api/?name=Yassine+Alami&background=064e3b&color=fff" class="user-avatar" alt="Avatar" id="user-avatar">
                        <div class="user-dropdown" id="user-dropdown">
                            <a href="#" onclick="logout(); return false;" style="display: flex; align-items: center; gap: 8px; padding: 10px; color: var(--text-main); text-decoration: none; font-size: 0.85rem;">
                                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                </svg>
                                Déconnexion
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="content">
            <!-- VUE DASHBOARD -->
            <div id="view-dashboard" class="view-section animate-fade active">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Aperçu Analytique</h1>
                        <p id="currentDate">...</p>
                    </div>
                    <button class="btn-primary">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
                        Nouvelle Vente
                    </button>
                </div>

                <div class="grid-stats">
                    <div class="card-stat">
                        <div class="stat-label">Revenu Mensuel <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg></div>
                        <div class="stat-value">84,250.00 MAD</div>
                        <div class="stat-footer trend-up">
                            <span>+12.5%</span> <span style="color: var(--text-muted); font-weight: 400;">vs mois dernier</span>
                        </div>
                    </div>
                    <div class="card-stat">
                        <div class="stat-label">Commandes Actives <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg></div>
                        <div class="stat-value">142</div>
                        <div class="stat-footer" style="color: var(--text-muted);">
                            <span>8 en attente de livraison</span>
                        </div>
                    </div>
                    <div class="card-stat">
                        <div class="stat-label">Taux de Conversion <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div>
                        <div class="stat-value">3.24%</div>
                        <div class="stat-footer trend-down">
                            <span>-0.4%</span> <span style="color: var(--text-muted); font-weight: 400;">cette semaine</span>
                        </div>
                    </div>
                    <div class="card-stat">
                        <div class="stat-label">Satisfaction Client <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>
                        <div class="stat-value">4.92 / 5</div>
                        <div class="stat-footer trend-up">
                            <span>Excellente</span>
                        </div>
                    </div>
                </div>

                <div class="card-table">
                    <div class="table-header">
                        <h3>Ventes Récentes par Région</h3>
                        <a href="#" style="font-size: 0.8rem; color: var(--primary); font-weight: 600; text-decoration: none;">Voir tout</a>
                    </div>
                    <table class="quantum-table">
                        <thead>
                            <tr>
                                <th>Région</th>
                                <th>Volume</th>
                                <th>Part de Marché</th>
                                <th>Statut Performance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Casablanca-Settat</strong></td>
                                <td>38,400 MAD</td>
                                <td>45%</td>
                                <td><span class="badge badge-success">Leader</span></td>
                            </tr>
                            <tr>
                                <td><strong>Rabat-Salé-Kénitra</strong></td>
                                <td>24,150 MAD</td>
                                <td>28%</td>
                                <td><span class="badge badge-success">Stable</span></td>
                            </tr>
                            <tr>
                                <td><strong>Marrakech-Safi</strong></td>
                                <td>12,900 MAD</td>
                                <td>15%</td>
                                <td><span class="badge badge-warning">En croissance</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VUE PRODUITS -->
            <div id="view-products" class="view-section animate-fade">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Gestion du Stock</h1>
                        <p>Contrôlez votre inventaire en temps réel.</p>
                    </div>
                    <button class="btn-primary">+ Ajouter un article</button>
                </div>
                <div class="card-table">
                    <table class="quantum-table">
                        <thead>
                            <tr>
                                <th>Produit</th>
                                <th>Référence</th>
                                <th>Prix Unitaire</th>
                                <th>Stock</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Les produits seront chargés dynamiquement par le système CRUD -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VUE COMMANDES -->
            <div id="view-orders" class="view-section animate-fade">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Suivi des Commandes</h1>
                        <p>Gestion logistique et statut des expéditions.</p>
                    </div>
                </div>
                <div class="card-table">
                    <table class="quantum-table">
                        <thead>
                            <tr>
                                <th>Client</th>
                                <th>Destination</th>
                                <th>Date</th>
                                <th>Total</th>
                                <th>Statut</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Amine Bennani</strong></td>
                                <td>Casablanca</td>
                                <td>03 Jan 2026</td>
                                <td>850.00 MAD</td>
                                <td><span class="badge badge-success">Livré</span></td>
                            </tr>
                            <tr>
                                <td><strong>Khadija Mansouri</strong></td>
                                <td>Marrakech</td>
                                <td>02 Jan 2026</td>
                                <td>1,240.00 MAD</td>
                                <td><span class="badge badge-warning">En transit</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VUE FOURNISSEURS -->
            <div id="view-suppliers" class="view-section animate-fade">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Gestion des Fournisseurs</h1>
                        <p>Gérez vos partenaires et contacts fournisseurs.</p>
                    </div>
                    <button class="btn-primary">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
                        Nouveau Fournisseur
                    </button>
                </div>
                <div class="card-table">
                    <table class="quantum-table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Contact</th>
                                <th>Email</th>
                                <th>Téléphone</th>
                                <th>Ville</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Les fournisseurs seront chargés dynamiquement par le système CRUD -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VUE ENTREPÔTS -->
            <div id="view-warehouses" class="view-section animate-fade">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Gestion des Entrepôts</h1>
                        <p>Suivez vos stocks par emplacement.</p>
                    </div>
                    <button class="btn-primary">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
                        Nouvel Entrepôt
                    </button>
                </div>
                <div class="card-table">
                    <table class="quantum-table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Adresse</th>
                                <th>Ville</th>
                                <th>Capacité</th>
                                <th>Stock Actuel</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Les entrepôts seront chargés dynamiquement par le système CRUD -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VUE COMMANDES D'ACHAT -->
            <div id="view-purchase-orders" class="view-section animate-fade">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Commandes d'Achat</h1>
                        <p>Gérez vos commandes auprès des fournisseurs.</p>
                    </div>
                    <button class="btn-primary">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
                        Nouvelle Commande
                    </button>
                </div>
                <div class="card-table">
                    <table class="quantum-table">
                        <thead>
                            <tr>
                                <th>Référence</th>
                                <th>Fournisseur</th>
                                <th>Date Commande</th>
                                <th>Date Livraison</th>
                                <th>Montant</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Les commandes d'achat seront chargées dynamiquement par le système CRUD -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VUE CATÉGORIES -->
            <div id="view-categories" class="view-section animate-fade">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Gestion des Catégories</h1>
                        <p>Organisez vos produits par catégories.</p>
                    </div>
                    <button class="btn-primary">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
                        Nouvelle Catégorie
                    </button>
                </div>
                <div class="card-table">
                    <table class="quantum-table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Description</th>
                                <th>Produits</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Les catégories seront chargées dynamiquement par le système CRUD -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- VUE PARAMÈTRES -->
            <div id="view-settings" class="view-section animate-fade">
                <div class="view-header">
                    <div class="view-title">
                        <h1>Paramètres</h1>
                        <p>Configurez votre système de gestion de stock.</p>
                    </div>
                </div>

                <!-- Paramètres Généraux -->
                <div class="card-table" style="margin-bottom: 2rem;">
                    <div class="table-header">
                        <h3>Paramètres Généraux</h3>
                    </div>
                    <div style="padding: 1.5rem;">
                        <div class="setting-item">
                            <label class="setting-label">Nom de l'entreprise</label>
                            <input type="text" class="setting-input" value="Quantum Maghrib" placeholder="Nom de l'entreprise">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Devise</label>
                            <select class="setting-input">
                                <option value="MAD" selected>MAD (Dirham marocain)</option>
                                <option value="EUR">EUR (Euro)</option>
                                <option value="USD">USD (Dollar américain)</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Format de date</label>
                            <select class="setting-input">
                                <option value="fr-FR" selected>JJ/MM/AAAA (Français)</option>
                                <option value="en-US">MM/DD/YYYY (Anglais)</option>
                                <option value="ar-MA">AAAA/MM/JJ (Arabe)</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Fuseau horaire</label>
                            <select class="setting-input">
                                <option value="Africa/Casablanca" selected>Afrique/Casablanca (GMT+1)</option>
                                <option value="UTC">UTC (GMT+0)</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Langue de l'interface</label>
                            <select class="setting-input">
                                <option value="fr" selected>Français</option>
                                <option value="ar">العربية</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Paramètres de Stock -->
                <div class="card-table" style="margin-bottom: 2rem;">
                    <div class="table-header">
                        <h3>Paramètres de Stock</h3>
                    </div>
                    <div style="padding: 1.5rem;">
                        <div class="setting-item">
                            <label class="setting-label">Seuil d'alerte stock faible</label>
                            <input type="number" class="setting-input" value="10" min="0" placeholder="Quantité minimale">
                            <p class="setting-hint">Alerte automatique lorsque le stock est inférieur à cette valeur</p>
                        </div>
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Activer les alertes de stock</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Unité de mesure par défaut</label>
                            <select class="setting-input">
                                <option value="unite" selected>Unité</option>
                                <option value="kg">Kilogramme (kg)</option>
                                <option value="g">Gramme (g)</option>
                                <option value="L">Litre (L)</option>
                                <option value="mL">Millilitre (mL)</option>
                                <option value="m">Mètre (m)</option>
                                <option value="m2">Mètre carré (m²)</option>
                            </select>
                        </div>
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Gestion des lots/séries</label>
                            <div style="display: flex; flex-direction: column; align-items: flex-end;">
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <p class="setting-hint" style="margin-top: 4px; text-align: right;">Activer la gestion des numéros de lot et dates d'expiration</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Paramètres de Notifications -->
                <div class="card-table" style="margin-bottom: 2rem;">
                    <div class="table-header">
                        <h3>Notifications</h3>
                    </div>
                    <div style="padding: 1.5rem;">
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Notifications par email</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Email de notification</label>
                            <input type="email" class="setting-input" value="admin@quantummaghrib.ma" placeholder="email@exemple.com">
                        </div>
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Alertes stock faible</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Notifications de commandes</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Rapports automatiques</label>
                            <select class="setting-input">
                                <option value="none">Aucun</option>
                                <option value="daily" selected>Quotidien</option>
                                <option value="weekly">Hebdomadaire</option>
                                <option value="monthly">Mensuel</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Paramètres de Sécurité -->
                <div class="card-table" style="margin-bottom: 2rem;">
                    <div class="table-header">
                        <h3>Sécurité</h3>
                    </div>
                    <div style="padding: 1.5rem;">
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Changer le mot de passe</label>
                            <button class="btn-secondary">Modifier</button>
                        </div>
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Authentification à deux facteurs</label>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Délai d'inactivité (minutes)</label>
                            <input type="number" class="setting-input" value="30" min="5" max="120">
                            <p class="setting-hint">Déconnexion automatique après inactivité</p>
                        </div>
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Journal d'audit</label>
                            <div style="display: flex; flex-direction: column; align-items: flex-end;">
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <p class="setting-hint" style="margin-top: 4px; text-align: right;">Enregistrer toutes les actions importantes</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Paramètres d'Export/Import -->
                <div class="card-table" style="margin-bottom: 2rem;">
                    <div class="table-header">
                        <h3>Export & Import</h3>
                    </div>
                    <div style="padding: 1.5rem;">
                        <div class="setting-item">
                            <label class="setting-label">Format d'export par défaut</label>
                            <select class="setting-input">
                                <option value="csv" selected>CSV</option>
                                <option value="excel">Excel (XLSX)</option>
                                <option value="pdf">PDF</option>
                                <option value="json">JSON</option>
                            </select>
                        </div>
                        <div class="setting-item toggle-item">
                            <label class="setting-label">Sauvegarde automatique</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Fréquence de sauvegarde</label>
                            <select class="setting-input">
                                <option value="daily" selected>Quotidienne</option>
                                <option value="weekly">Hebdomadaire</option>
                                <option value="monthly">Mensuelle</option>
                            </select>
                        </div>
                        <div class="setting-item" style="display: flex; gap: 1rem; align-items: center;">
                            <button class="btn-primary">Exporter les données</button>
                            <button class="btn-secondary">Importer des données</button>
                        </div>
                    </div>
                </div>

                <!-- Bouton de sauvegarde -->
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 2rem;">
                    <button class="btn-secondary" onclick="resetAllData()" style="background: var(--secondary); color: white; border-color: var(--secondary);">Réinitialiser les données</button>
                    <button class="btn-secondary">Annuler</button>
                    <button class="btn-primary">Enregistrer les modifications</button>
                </div>
            </div>

        </div>
    </main>

    <!-- Notification Panel -->
    <div id="notification-panel" class="notification-panel">
        <div class="notification-header">
            <h3>Notifications</h3>
            <button class="notification-close" onclick="toggleNotifications()">&times;</button>
        </div>
        <div class="notification-body" id="notification-list">
            <!-- Notifications will be loaded here -->
        </div>
        <div class="notification-footer">
            <button class="btn-secondary" onclick="markAllAsRead()" style="width: 100%;">Marquer tout comme lu</button>
        </div>
    </div>

    <!-- MODALES CRUD -->
    
    <!-- Modal Produit -->
    <div id="modal-product" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modal-product-title">Ajouter un produit</h2>
                <button class="modal-close" onclick="closeModal('modal-product')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-product">
                    <input type="hidden" id="product-id" name="id">
                    <div class="form-group">
                        <label for="product-name">Nom du produit *</label>
                        <input type="text" id="product-name" name="name" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="product-reference">Référence *</label>
                            <input type="text" id="product-reference" name="reference" required>
                        </div>
                        <div class="form-group">
                            <label for="product-price">Prix unitaire (MAD) *</label>
                            <input type="number" id="product-price" name="price" step="0.01" min="0" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="product-stock">Stock *</label>
                            <input type="number" id="product-stock" name="stock" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="product-category">Catégorie</label>
                            <select id="product-category" name="category">
                                <option value="">Sélectionner...</option>
                                <option value="cosmetiques">Cosmétiques Naturels</option>
                                <option value="artisanat">Artisanat</option>
                                <option value="thes">Thés & Infusions</option>
                                <option value="epices">Épices & Condiments</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="product-description">Description</label>
                        <textarea id="product-description" name="description"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-product')">Annuler</button>
                <button class="btn-primary" onclick="saveProduct()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Modal Fournisseur -->
    <div id="modal-supplier" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modal-supplier-title">Ajouter un fournisseur</h2>
                <button class="modal-close" onclick="closeModal('modal-supplier')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-supplier">
                    <input type="hidden" id="supplier-id" name="id">
                    <div class="form-group">
                        <label for="supplier-name">Nom de l'entreprise *</label>
                        <input type="text" id="supplier-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="supplier-contact">Personne de contact *</label>
                        <input type="text" id="supplier-contact" name="contact" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="supplier-email">Email *</label>
                            <input type="email" id="supplier-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="supplier-phone">Téléphone *</label>
                            <input type="tel" id="supplier-phone" name="phone" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="supplier-city">Ville</label>
                        <input type="text" id="supplier-city" name="city">
                    </div>
                    <div class="form-group">
                        <label for="supplier-address">Adresse</label>
                        <textarea id="supplier-address" name="address"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-supplier')">Annuler</button>
                <button class="btn-primary" onclick="saveSupplier()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Modal Entrepôt -->
    <div id="modal-warehouse" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modal-warehouse-title">Ajouter un entrepôt</h2>
                <button class="modal-close" onclick="closeModal('modal-warehouse')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-warehouse">
                    <input type="hidden" id="warehouse-id" name="id">
                    <div class="form-group">
                        <label for="warehouse-name">Nom de l'entrepôt *</label>
                        <input type="text" id="warehouse-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="warehouse-address">Adresse *</label>
                        <input type="text" id="warehouse-address" name="address" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="warehouse-city">Ville *</label>
                            <input type="text" id="warehouse-city" name="city" required>
                        </div>
                        <div class="form-group">
                            <label for="warehouse-capacity">Capacité (m²) *</label>
                            <input type="number" id="warehouse-capacity" name="capacity" min="0" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="warehouse-status">Statut</label>
                        <select id="warehouse-status" name="status">
                            <option value="active">Actif</option>
                            <option value="maintenance">Maintenance</option>
                            <option value="inactive">Inactif</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-warehouse')">Annuler</button>
                <button class="btn-primary" onclick="saveWarehouse()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Modal Catégorie -->
    <div id="modal-category" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modal-category-title">Ajouter une catégorie</h2>
                <button class="modal-close" onclick="closeModal('modal-category')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-category">
                    <input type="hidden" id="category-id" name="id">
                    <div class="form-group">
                        <label for="category-name">Nom de la catégorie *</label>
                        <input type="text" id="category-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="category-description">Description</label>
                        <textarea id="category-description" name="description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="category-status">Statut</label>
                        <select id="category-status" name="status">
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-category')">Annuler</button>
                <button class="btn-primary" onclick="saveCategory()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Modal Nouvelle Vente -->
    <div id="modal-sale" class="modal-overlay">
        <div class="modal" style="max-width: 800px;">
            <div class="modal-header">
                <h2>Nouvelle Vente</h2>
                <button class="modal-close" onclick="closeModal('modal-sale')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-sale">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sale-client">Client *</label>
                            <input type="text" id="sale-client" name="client" placeholder="Nom du client" required>
                        </div>
                        <div class="form-group">
                            <label for="sale-date">Date de vente *</label>
                            <input type="date" id="sale-date" name="date" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sale-email">Email client</label>
                            <input type="email" id="sale-email" name="email" placeholder="client@email.com">
                        </div>
                        <div class="form-group">
                            <label for="sale-phone">Téléphone</label>
                            <input type="tel" id="sale-phone" name="phone" placeholder="+212 XXX XXX XXX">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sale-address">Adresse de livraison</label>
                        <textarea id="sale-address" name="address" rows="2" placeholder="Adresse complète"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="sale-city">Ville</label>
                        <input type="text" id="sale-city" name="city" placeholder="Casablanca, Rabat, etc.">
                    </div>

                    <hr style="margin: 1.5rem 0; border: none; border-top: 1px solid var(--border);">

                    <div class="form-group">
                        <label>Produits *</label>
                        <div id="sale-products-list" class="products-list">
                            <!-- Products will be added dynamically -->
                        </div>
                        <button type="button" class="btn-secondary" onclick="addProductToSale()" style="margin-top: 0.5rem;">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path d="M12 4v16m8-8H4"></path>
                            </svg>
                            Ajouter un produit
                        </button>
                    </div>

                    <hr style="margin: 1.5rem 0; border: none; border-top: 1px solid var(--border);">

                    <div class="form-row">
                        <div class="form-group">
                            <label for="sale-payment">Mode de paiement *</label>
                            <select id="sale-payment" name="payment" required>
                                <option value="">Sélectionner...</option>
                                <option value="cash">Espèces</option>
                                <option value="card">Carte bancaire</option>
                                <option value="transfer">Virement bancaire</option>
                                <option value="check">Chèque</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sale-status">Statut *</label>
                            <select id="sale-status" name="status" required>
                                <option value="pending" selected>En attente</option>
                                <option value="confirmed">Confirmée</option>
                                <option value="shipped">Expédiée</option>
                                <option value="delivered">Livrée</option>
                                <option value="cancelled">Annulée</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sale-notes">Notes</label>
                        <textarea id="sale-notes" name="notes" rows="3" placeholder="Notes additionnelles sur la commande..."></textarea>
                    </div>

                    <div class="sale-summary">
                        <div class="summary-row">
                            <span>Sous-total:</span>
                            <span id="sale-subtotal">0.00 MAD</span>
                        </div>
                        <div class="summary-row">
                            <span>Remise:</span>
                            <span>
                                <input type="number" id="sale-discount" name="discount" value="0" min="0" max="100" step="0.01" style="width: 80px; padding: 4px 8px; border: 1px solid var(--border); border-radius: 4px;">
                                <select id="sale-discount-type" style="width: 60px; padding: 4px 8px; border: 1px solid var(--border); border-radius: 4px; margin-left: 4px;">
                                    <option value="percent">%</option>
                                    <option value="fixed">MAD</option>
                                </select>
                            </span>
                        </div>
                        <div class="summary-row">
                            <span>Total:</span>
                            <span id="sale-total" style="font-weight: 700; font-size: 1.1rem; color: var(--primary);">0.00 MAD</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-sale')">Annuler</button>
                <button class="btn-primary" onclick="saveSale()">Enregistrer la vente</button>
            </div>
        </div>
    </div>

    <!-- Modal Nouvelle Commande d'Achat -->
    <div id="modal-purchase-order" class="modal-overlay">
        <div class="modal" style="max-width: 800px;">
            <div class="modal-header">
                <h2>Nouvelle Commande d'Achat</h2>
                <button class="modal-close" onclick="closeModal('modal-purchase-order')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-purchase-order">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="po-supplier">Fournisseur *</label>
                            <select id="po-supplier" name="supplier" required>
                                <option value="">Sélectionner un fournisseur...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="po-date">Date de commande *</label>
                            <input type="date" id="po-date" name="date" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="po-delivery-date">Date de livraison prévue *</label>
                            <input type="date" id="po-delivery-date" name="deliveryDate" required>
                        </div>
                        <div class="form-group">
                            <label for="po-warehouse">Entrepôt de réception *</label>
                            <select id="po-warehouse" name="warehouse" required>
                                <option value="">Sélectionner un entrepôt...</option>
                            </select>
                        </div>
                    </div>

                    <hr style="margin: 1.5rem 0; border: none; border-top: 1px solid var(--border);">

                    <div class="form-group">
                        <label>Produits à commander *</label>
                        <div id="po-products-list" class="products-list">
                            <!-- Products will be added dynamically -->
                        </div>
                        <button type="button" class="btn-secondary" onclick="addProductToPurchaseOrder()" style="margin-top: 0.5rem;">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path d="M12 4v16m8-8H4"></path>
                            </svg>
                            Ajouter un produit
                        </button>
                    </div>

                    <hr style="margin: 1.5rem 0; border: none; border-top: 1px solid var(--border);">

                    <div class="form-row">
                        <div class="form-group">
                            <label for="po-payment-terms">Conditions de paiement *</label>
                            <select id="po-payment-terms" name="paymentTerms" required>
                                <option value="">Sélectionner...</option>
                                <option value="cash">Comptant</option>
                                <option value="30days" selected>30 jours</option>
                                <option value="60days">60 jours</option>
                                <option value="90days">90 jours</option>
                                <option value="on-delivery">À la livraison</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="po-status">Statut *</label>
                            <select id="po-status" name="status" required>
                                <option value="pending" selected>En attente</option>
                                <option value="confirmed">Confirmée</option>
                                <option value="ordered">Commandée</option>
                                <option value="in-transit">En transit</option>
                                <option value="delivered">Livrée</option>
                                <option value="cancelled">Annulée</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="po-notes">Notes</label>
                        <textarea id="po-notes" name="notes" rows="3" placeholder="Notes additionnelles sur la commande d'achat..."></textarea>
                    </div>

                    <div class="sale-summary">
                        <div class="summary-row">
                            <span>Sous-total:</span>
                            <span id="po-subtotal">0.00 MAD</span>
                        </div>
                        <div class="summary-row">
                            <span>Remise:</span>
                            <span>
                                <input type="number" id="po-discount" name="discount" value="0" min="0" max="100" step="0.01" style="width: 80px; padding: 4px 8px; border: 1px solid var(--border); border-radius: 4px;">
                                <select id="po-discount-type" style="width: 60px; padding: 4px 8px; border: 1px solid var(--border); border-radius: 4px; margin-left: 4px;">
                                    <option value="percent">%</option>
                                    <option value="fixed">MAD</option>
                                </select>
                            </span>
                        </div>
                        <div class="summary-row">
                            <span>Frais de transport:</span>
                            <span>
                                <input type="number" id="po-shipping" name="shipping" value="0" min="0" step="0.01" style="width: 100px; padding: 4px 8px; border: 1px solid var(--border); border-radius: 4px;">
                                <span style="margin-left: 4px;">MAD</span>
                            </span>
                        </div>
                        <div class="summary-row">
                            <span>Total:</span>
                            <span id="po-total" style="font-weight: 700; font-size: 1.1rem; color: var(--primary);">0.00 MAD</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-purchase-order')">Annuler</button>
                <button class="btn-primary" onclick="savePurchaseOrder()">Enregistrer la commande</button>
            </div>
        </div>
    </div>

    <!-- Modal Contact -->
    <div id="modal-contact" class="modal-overlay">
        <div class="modal" style="max-width: 600px;">
            <div class="modal-header">
                <h2>Contactez votre conseiller</h2>
                <button class="modal-close" onclick="closeModal('modal-contact')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="background: var(--bg-canvas); padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1.5rem; border-left: 4px solid var(--primary);">
                    <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 0.5rem;">
                        <strong style="color: var(--primary);">Support Premium</strong> - Votre conseiller dédié vous répondra sous 24h
                    </p>
                    <p style="font-size: 0.8rem; color: var(--text-muted);">
                        📧 Email: support@quantummaghrib.ma<br>
                        📞 Téléphone: +212 XXX XXX XXX
                    </p>
                </div>

                <form id="form-contact">
                    <div class="form-group">
                        <label for="contact-subject">Sujet *</label>
                        <select id="contact-subject" name="subject" required>
                            <option value="">Sélectionner un sujet...</option>
                            <option value="support">Support technique</option>
                            <option value="billing">Facturation</option>
                            <option value="feature">Demande de fonctionnalité</option>
                            <option value="bug">Signaler un problème</option>
                            <option value="training">Formation</option>
                            <option value="other">Autre</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="contact-name">Votre nom *</label>
                        <input type="text" id="contact-name" name="name" placeholder="Votre nom complet" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact-email">Email *</label>
                            <input type="email" id="contact-email" name="email" placeholder="votre@email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-phone">Téléphone</label>
                            <input type="tel" id="contact-phone" name="phone" placeholder="+212 XXX XXX XXX">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="contact-priority">Priorité</label>
                        <select id="contact-priority" name="priority">
                            <option value="low">Basse</option>
                            <option value="normal" selected>Normale</option>
                            <option value="high">Haute</option>
                            <option value="urgent">Urgente</option>
                        </select>
                        <small>Indiquez l'urgence de votre demande</small>
                    </div>

                    <div class="form-group">
                        <label for="contact-message">Message *</label>
                        <textarea id="contact-message" name="message" rows="6" placeholder="Décrivez votre demande ou votre problème en détail..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="contact-copy" name="copy">
                            <span>M'envoyer une copie par email</span>
                        </label>
                    </div>

                    <div id="contact-success" class="success-message" style="display: none;">
                        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 8px;">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Votre message a été envoyé avec succès ! Nous vous répondrons sous 24h.
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-contact')">Fermer</button>
                <button class="btn-primary" onclick="sendContactMessage()">
                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                    Envoyer le message
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Confirmation Suppression -->
    <div id="modal-delete" class="modal-overlay">
        <div class="modal" style="max-width: 400px;">
            <div class="modal-header">
                <h2>Confirmer la suppression</h2>
                <button class="modal-close" onclick="closeModal('modal-delete')">&times;</button>
            </div>
            <div class="modal-body">
                <p id="delete-message">Êtes-vous sûr de vouloir supprimer cet élément ? Cette action est irréversible.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-delete')">Annuler</button>
                <button class="btn-danger" onclick="confirmDelete()">Supprimer</button>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
    <script src="js/crud.js"></script>
</body>
</html>